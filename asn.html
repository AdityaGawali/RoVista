<!DOCTYPE html>
<html lang="en">
<!-- <head>
    <script>
         const queryString = window.location.search;
        console.log(queryString)
        var number = queryString.substring(queryString.indexOf('=') + 1)
        document.write("<title>" + number.toString()  + "</title>")

    </script>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-beta1/jquery.js"></script>

    <script>
     $(function(){
         $("#header").load("header.html"); 
         $("#footer").load("footer.html"); 
       });
       </script> 
        <link rel="stylesheet" href="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap4.min.css">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS"crossorigin="anonymous">

        <link rel="stylesheet" media="all" href="https://s3.amazonaws.com/dynatable-docs-assets/css/jquery.dynatable.css" />

</head> -->

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>ROVISTA</title>
    <meta content="Display any CSV file as a searchable, filterable, pretty HTML table">

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS"crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap4.min.css">
    <!-- <link rel="stylesheet" href="css/style.css"> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-beta1/jquery.js"></script>
    <link rel="stylesheet" media="all" href="https://s3.amazonaws.com/dynatable-docs-assets/css/jquery.dynatable.css" />
    <link rel="stylesheet" href="css/style.css">
   <script>
    $(function(){
        $("#header").load("header.html"); 
        $("#footer").load("footer.html"); 
      });
      </script> 
</head>


<body>
    <div id="header"></div>
    <script>
        // document.write("<h4>")
        // document.write("AS number: ")
        // document.write(number.toString())
        // document.write("</h4>")
    </script>
    
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/data.js"></script>
    <script src="https://code.highcharts.com/modules/series-label.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>

    <figure class="highcharts-figure">
    <div id="container"></div>
    <p class="highcharts-description"><small>
        Chart showing data loaded dynamically. The individual data points can
        be clicked to display more information.
    </p>
    </figure>

    <script>

Highcharts.chart('container', {

    chart: {
    scrollablePlotArea: {
        minWidth: 700
    }
    },

    data: {
        csvURL: './data/asn/'+number+'.csv',
        beforeParse: function (csv) {
        return csv.replace(/\n\n/g, '\n');

    }
    },

    title: {
    text: 'ROV% of ASN '+number
    },

    // subtitle: {
    //   text: 'Source: Google Analytics'
    // },

    xAxis: {
    //   tickInterval: 7 * 24 * 3600 * 1000, // one week
    title: {
            text: "Date"
        },
        tickWidth: 0,
        gridLineWidth: 1,
        labels: {
            align: 'left',
            x: 3,
            y: -3
        }
    },

    yAxis: [{ // left y axis
        title: {
            text: null
        },
        labels: {
            // align: 'right',
            x: -3,
            y: 16,
            // format: '{value:.,0f}'
        },
        showFirstLabel: false
        }, 
        { 
            // gridLineWidth: 0,
            // opposite: true,
            // max: 1,
            // min: 0,
            // title: {
            //     // text: "ROV Ratio (%)"
            // },
            // labels: {
            //     align: 'left',
            //     x: 3,
            //     y: 16,
            //     format: '{value:.,0f}'
            // },
        }
    ],

    legend: {
    align: 'left',
    verticalAlign: 'top',
    borderWidth: 0
    },

    tooltip: {
    shared: true,
    crosshairs: true
    },

    plotOptions: {
    series: {
        allowPointSelect: true,

        // cursor: 'pointer',
        // className: 'popup-on-click',
        marker: {
        lineWidth: 1
        }
    }
    },

    series: [{ 
        visible:false,

            // name: "Total",
            // type: 'line',
            // yAxis: 1,
            // lineWidth: 3,
            // marker: {
            //     radius: 3
            // }
        },
        { 
            visible:false,

            // name: "Ratio",
            // type: 'line',
            // yAxis: 1,
            // marker: {
            //     radius: 3
            // }
        },
    {
            visible:false
        },
    {
            // visible:false,
            name: "Ratio",
            type: 'line',
            yAxis: 0,
            marker: {
                radius: 3
        }
    }
    ]
    });

</script>

<script>
    function show() {
        document.getElementById("toggleVisibilityButton").addEventListener("click", function(submit) {    
        // document.getElementById("displaytable").style.display = "table";

        if (document.getElementById("displaytable").style.display === "none") 		     
            document.getElementById("displaytable").style.display = "table";
        else document.getElementById("displaytable").style.display = "none"; 
        document.getElementById('date1').innerHTML = document.getElementById("date 1").value
        document.getElementById('date2').innerHTML = document.getElementById("date 2").value

});
    }
</script>

<h5 style="color: black;" font: 32px/1em 'GibsonBold', Helvetica;> Show diff data between Date 1 & Date 2</h5>

<form>
    <label for="date 1">Date 1:</label>
    <input type="date" id="date 1" name="date1">
    <label for="date 2">Date 2:</label>
    <input type="date" id="date 2" name="date2">
</form>


<input id="toggleVisibilityButton" type="submit" onclick="show();">
    <table  id="displaytable" class="table table-striped table-bordered">
    <thead >
        <div class="white_text">
            <th>Date</th>
            <th>As No.</th>
        </div>

    </thead>
    <!-- <th align="center">
        <td class="lbl"><b>Dates</b></td>
        <td class="lbl"><b>AS nos. diff</b></td>
    </th> -->
    <tbody>
    <tr>
        <td align="center"><span id='date1'></span></td>
        <td align="center"><span style="color:#008000;"> 1, 2,</span> 3, 4 </td>
        </tr>
        <tr>
        <td align="center"><span id='date2'></span></td>
        <td align="center">3, 4,<span style="color:#ff0000"> 5, 6</span></td>
    </tr>
</tbody>
</table> 

<style>
    h6 {
      /* font-family: arial, sans-serif; */
      padding: 20px;
    }
    #googleForm {
    text-align: center;
    }
</style>
<!-- <h5>Feedback form</h5> -->
<!-- <h6><a href="https://forms.gle/8ETbDf8wZGpNQKJn9"><i>Give your feedback here!</i></a></h6> -->

<h6 style="color: black;" font: 32px/1em 'GibsonBold', serif; align="center"><i>Give your feedback here!</i></h6>

<div id="googleForm">
<iframe src="https://docs.google.com/forms/d/e/1FAIpQLSdqSh8LLXbTdeYPBnX6Ic6xdrijz06NhIzuw__Bq2b-osnA4w/viewform?embedded=true" width="640" height="930" frameborder="0" marginheight="0" marginwidth="0" >Loadingâ€¦</iframe>
</div>
</body>
</html>